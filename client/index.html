<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
    <head>
        <title>Mage</title>
        <META HTTP-EQUIV="Pragma" CONTENT="no-cache" />
        <rel type="stylesheet" type="text/css" href="reset.css" />
        <style type="text/css">
            body {width: 800px;margin:auto;}
            #play_area {border: 1px solid #000;}
        </style>
        <script type="text/javascript" src="_assets/js/json.js"></script>
        <script type="text/javascript" src="_assets/js/util.js"></script>
        <script type="text/javascript" src="_assets/js/jquery-1.5.1.js"></script>
        <script type="text/javascript" src="_assets/js/game.js"></script>
        <script type="text/javascript" src="_assets/js/entity.js"></script>
        <script type="text/javascript">
        
        var CONTEXT = null, PLAY_AREA_DIM = [800, 600];
        
        $().ready(function() {
            
            
            var game_manager = GameManager('play_area')
            
            /*
            var tick            = 35,//1000/50,
                game_timer      = null,
                entity_manager  = new EntityManager(),
                play_area       = null,
                mouse_dragging  = false;
            
            function init_play_area() {
                play_area = document.getElementById('play_area');
                CONTEXT = play_area.getContext('2d');
                play_area = $('#play_area');
                CONTEXT.translate(400, 300)
            }
            
            init_play_area();
            
            play_area.mousedown(function() {mouse_dragging = true;})
            play_area.mouseup(function() {mouse_dragging = false;})
            play_area.mousemove(function(e) {
                if(mouse_dragging) {
                    var x = Math.floor((e.pageX-play_area.offset().left-400)),
                        y = Math.floor((e.pageY-play_area.offset().top -300));
                    entity_manager.movement(x, y)
                }
            })
            
            
            red_mage = new Mage();
            entity_manager.add_entity(red_mage);
            red_mage.set_loc(new Point(0,0));
            red_mage.set_color('rgb(0,200,100)')
            
            function game_loop() {
                CONTEXT.clearRect(-400,-300, 800,600);
                entity_manager.maintain();
                GAME_TIMER = setTimeout(game_loop, tick);
            }
            //game_loop();
            */
            
            
        });
        </script>
    </head>
    <body>
        <canvas id="play_area" height="600" width="800"></canvas>
    </body>
</html>
